var jaxon={version:{major:"4",minor:"0",patch:"0rc-2"},debug:{verbose:{}},ajax:{callback:{},handler:{},message:{},parameters:{},request:{},response:{}},cmd:{event:{},form:{},node:{},script:{},style:{}},utils:{delay:{},dom:{},form:{},queue:{},string:{},upload:{}},dom:{}};jaxon.config={commonHeaders:{"If-Modified-Since":"Sat, 1 Jan 2000 00:00:00 GMT"},postHeaders:{},getHeaders:{},waitCursor:!1,statusMessages:!1,baseDocument:document,requestURI:document.URL,defaultMode:"asynchronous",defaultHttpVersion:"HTTP/1.1",defaultContentType:"application/x-www-form-urlencoded",defaultResponseDelayTime:1e3,convertResponseToJson:!0,defaultExpirationTime:1e4,defaultMethod:"POST",defaultRetry:5,defaultReturnValue:!1,maxObjectDepth:20,maxObjectSize:2e3,commandQueueSize:1e3,requestQueueSize:1e3},jaxon.config.status={update:()=>({onRequest:()=>console.log("Sending Request..."),onWaiting:()=>console.log("Waiting for Response..."),onProcessing:()=>console.log("Processing..."),onComplete:()=>console.log("Done.")}),dontUpdate:()=>({onRequest:()=>{},onWaiting:()=>{},onProcessing:()=>{},onComplete:()=>{}})},jaxon.config.cursor={update:()=>({onWaiting:()=>{jaxon.config.baseDocument.body&&(jaxon.config.baseDocument.body.style.cursor="wait")},onComplete:()=>{jaxon.config.baseDocument.body&&(jaxon.config.baseDocument.body.style.cursor="auto")}}),dontUpdate:()=>({onWaiting:()=>{},onComplete:()=>{}})},function(e,t,n,r){e.popAsyncRequest=e=>t.empty(e)||"synchronous"===t.peek(e).mode?null:t.pop(e),e.retry=(e,t)=>{let n=e.retries;if(n){if(1>--n)return!1}else n=t;return e.retries=n,e.requeue=!0,!0},e.setWakeup=(e,t)=>{null!==e.timeout&&(clearTimeout(e.timeout),e.timeout=null),e.timout=setTimeout((()=>n.process(e)),t)};const o=(r,o,a)=>{if(!0===a)for(;o>0&&r.response.count>1&&null!==t.pop(r.response);)--o;!0!==r.requeue?n.process(r.response):e.setWakeup(r.response,30)};e.confirm=(e,t,n)=>(e.requeue=!0,r.confirm(n,"",(()=>o(e,t,!1)),(()=>o(e,t,!0))),e.requeue=!1,!1)}(jaxon.utils.delay,jaxon.utils.queue,jaxon.ajax.response,jaxon.ajax.message),function(e,t){e.$=e=>e?"string"!=typeof e?e:t.getElementById(e):null;e.getBrowserHTML=n=>{const r=(()=>{const n=e.$("jaxon_temp_workspace");if(n)return n;if(!t.body)return null;const r=t.createElement("div");return r.setAttribute("id","jaxon_temp_workspace"),r.style.display="none",r.style.visibility="hidden",t.body.appendChild(r),r})();r.innerHTML=n;const o=r.innerHTML;return r.innerHTML="",o},e.willChange=(t,n,r)=>("string"==typeof t&&(t=e.$(t)),!!t&&r!=t[n]),e.findFunction=function(e,t=window){const n=e.split(".");for(let e=0,r=n.length;e<r&&t;e++)t=t[n[e]];return t??null},e.getInnerObject=(e,t)=>{const n=t.split(".");t=n.pop();for(let t=0,r=n.length;t<r&&e;t++){const r=n[t];e=e["css"===r?"style":r]}return e?[e,t]:[null,null]},e.createFunction=(e,n="jaxon.cmd.script.context.delegateCall")=>{if(!e)return!1;const r="jaxon_cmd_script_"+(void 0===n?"delegate_call":n.toLowerCase().replaceAll(".","_"));jaxon.cmd.node.remove(r);const o=t.createElement("script");return o.setAttribute("id",r),o.textContent=`\n    ${n} = ${e}\n`,t.body.appendChild(o),!0}}(jaxon.utils.dom,jaxon.config.baseDocument),function(e,t){const n=(e,t,r,o)=>{t.forEach((t=>{void 0!==t.childNodes&&"select-one"!==t.type&&"select-multiple"!==t.type&&n(e,t.childNodes,r,o),((e,t,n,r)=>{if(!t.name||"PARAM"===t.tagName)return;if(!n&&t.disabled)return;if(r!==t.name.substring(0,r.length))return;if(("radio"===t.type||"checkbox"===t.type)&&!t.checked)return;if("file"===t.type)return;const o=t.name,a="select-multiple"!==t.type?t.value:t.options.filter((e=>e.selected)).map((e=>e.value)),s=o.indexOf("[");if(s<0)return void(e[o]=a);let c=o.substring(0,s),i=o.substring(s);e[c]=e[c]||{};let u=e;for(;i.length>0;){const e=i.substring(0,i.indexOf("]")+1),n=c,r=u;i=i.substring(i.indexOf("]")+1),u=u[c],c=e.substring(1,e.length-2),""===c&&("select-multiple"===t.type?(c=n,u=r):c=u.length),void 0===c&&(c=Object.keys(r[n]).length),u[c]=u[c]||{}}u[c]=a})(e,t,r,o)}))};e.getValues=(e,r,o)=>{const a=!0===r,s=o??"",c=t.$(e),i={};return c&&c.childNodes&&n(i,c.childNodes,a,s),i}}(jaxon.utils.form,jaxon.utils.dom),function(e){e.create=e=>({start:0,count:0,size:e,end:0,elements:[],timeout:null}),e.empty=e=>e.count<=0,e.full=e=>e.count>=e.size,e.push=(t,n)=>{if(e.full(t))throw{code:10003};return t.elements[t.end]=n,++t.end>=t.size&&(t.end=0),++t.count},e.pushFront=(t,n)=>{if(e.full(t))throw{code:10003};return e.empty(t)?e.push(t,n):(--t.start<0&&(t.start=t.size-1),t.elements[t.start]=n,++t.count)},e.pop=t=>{if(e.empty(t))return null;let n=t.elements[t.start];return delete t.elements[t.start],++t.start>=t.size&&(t.start=0),t.count--,n},e.peek=t=>e.empty(t)?null:t.elements[t.start]}(jaxon.utils.queue),function(e){e.doubleQuotes=e=>void 0!==e&&e.replace(new RegExp("'","g"),'"'),e.singleQuotes=e=>void 0!==e&&e.replace(new RegExp('"',"g"),"'"),e.stripOnPrefix=e=>0===(e=e.toLowerCase()).indexOf("on")?e.replace(/on/,""):e,e.addOnPrefix=e=>0!==(e=e.toLowerCase()).indexOf("on")?"on"+e:e,String.prototype.supplant||(String.prototype.supplant=function(e){return this.replace(/\{([^{}]*)\}/g,(function(t,n){const r=e[n];return"string"==typeof r||"number"==typeof r?r:t}))})}(jaxon.utils.string),function(e,t,n){e.initialize=e=>{(e=>{if(!e.upload)return!1;e.upload={id:e.upload,input:null,form:null};const r=t.$(e.upload.id);return r?"file"!==r.type?(n.log("The upload input field with id "+e.upload.id+" is not of type file"),!1):0===r.files.length?(n.log("There is no file selected for upload in input field with id "+e.upload.id),!1):void 0===r.name?(n.log("The upload input field with id "+e.upload.id+" has no name attribute"),!1):(e.upload.input=r,e.upload.form=r.form,!0):(n.log("Unable to find input field for file upload with id "+e.upload.id),!1)})(e)||(e.postHeaders["content-type"]=e.contentType)}}(jaxon.utils.upload,jaxon.utils.dom,console),function(e,t,n,r){e.setEvent=({target:e,prop:o,data:a})=>(t.createFunction(`(e) => { ${n.doubleQuotes(a)} }`),e[n.addOnPrefix(o)]=r.context.delegateCall,!0);const o=window.addEventListener?n.stripOnPrefix:n.addOnPrefix,a=window.addEventListener?(e,n,r)=>e.addEventListener(n,t.findFunction(r),!1):(e,n,r)=>e.attachEvent(n,t.findFunction(r)),s=window.addEventListener?(e,n,r)=>e.removeEventListener(n,t.findFunction(r),!1):(e,n,r)=>e.detachEvent(n,t.findFunction(r));e.addHandler=({target:e,prop:t,data:n})=>(a(e,o(t),n),!0),e.removeHandler=({target:e,prop:t,data:n})=>(s(e,o(t),n),!0)}(jaxon.cmd.event,jaxon.utils.dom,jaxon.utils.string,jaxon.cmd.script),function(e,t){const n=(e,n,r)=>{const o=t.createElement("input");return o.setAttribute("type",e),o.setAttribute("name",n),o.setAttribute("id",r),o};e.createInput=({target:e,type:t,data:r,prop:o})=>{const a=n(t,r,o);return e&&a&&e.appendChild(a),!0},e.insertInput=({target:e,type:t,data:r,prop:o})=>{const a=n(t,r,o);return a&&e&&e.parentNode&&e.parentNode.insertBefore(a,e),!0},e.insertInputAfter=({target:e,type:t,data:r,prop:o})=>{const a=n(t,r,o);return a&&e&&e.parentNode&&e.parentNode.insertBefore(a,e.nextSibling),!0}}(jaxon.cmd.form,jaxon.config.baseDocument),function(e,t,n){e.assign=({target:e,prop:n,data:r})=>{if("innerHTML"===n)return e.innerHTML=r,!0;if("outerHTML"===n)return e.outerHTML=r,!0;const[o,a]=t.getInnerObject(e,n);return null!==o&&(o[a]=r),!0},e.append=({target:e,prop:n,data:r})=>{if("innerHTML"===n)return e.innerHTML=e.innerHTML+r,!0;if("outerHTML"===n)return e.outerHTML=e.outerHTML+r,!0;const[o,a]=t.getInnerObject(e,n);return null!==o&&(o[a]=o[a]+r),!0},e.prepend=({target:e,prop:n,data:r})=>{if("innerHTML"===n)return e.innerHTML=r+e.innerHTML,!0;if("outerHTML"===n)return e.outerHTML=r+e.outerHTML,!0;const[o,a]=t.getInnerObject(e,n);return null!==o&&(o[a]=r+o[a]),!0};e.replace=({target:e,prop:n,data:r})=>{const o=r.r,a="innerHTML"===n?t.getBrowserHTML(r.s):r.s,[s,c]=t.getInnerObject(e,n);return null!==s&&((e,n,r,o)=>{const a="function"==typeof e[n],s=(a?e[n].join(""):e[n]).replaceAll(r,o);(a||t.willChange(e,n,s))&&(e[n]=s)})(s,c,a,o),!0},e.remove=({target:e})=>(e&&e.parentNode&&e.parentNode.removeChild&&e.parentNode.removeChild(e),!0),e.create=({target:e,data:t,prop:r})=>{if(e){const o=n.createElement(t);o.setAttribute("id",r),e.appendChild(o)}return!0},e.insert=({target:e,data:t,prop:r})=>{if(e&&e.parentNode){const o=n.createElement(t);o.setAttribute("id",r),e.parentNode.insertBefore(o,e)}return!0},e.insertAfter=({target:e,data:t,prop:r})=>{if(e&&e.parentNode){const o=n.createElement(t);o.setAttribute("id",r),e.parentNode.insertBefore(o,e.nextSibling)}return!0},e.contextAssign=({context:e,prop:n,data:r})=>{const[o,a]=t.getInnerObject(e,n);return null!==o&&(o[a]=r),!0},e.contextAppend=({context:e,prop:n,data:r})=>{const[o,a]=t.getInnerObject(e,n);return null!==o&&(o[a]=o[a]+r),!0},e.contextPrepend=({context:e,prop:n,data:r})=>{const[o,a]=t.getInnerObject(e,n);return null!==o&&(o[a]=r+o[a]),!0}}(jaxon.cmd.node,jaxon.utils.dom,jaxon.config.baseDocument),function(e,t,n,r,o,a){e.includeScriptOnce=({data:t,type:n="text/javascript",elm_id:r})=>!!o.getElementsByTagName("script").find((e=>e.src&&e.src.indexOf(t)>=0))||e.includeScript({data:t,type:n,elm_id:r}),e.includeScript=({data:e,type:t="text/javascript",elm_id:n})=>{const r=o.getElementsByTagName("head"),a=o.createElement("script");return a.src=e,a.type=t,n&&a.setAttribute("id",n),r[0].appendChild(a),!0},e.removeScript=({data:t,unld:n})=>{const r=o.getElementsByTagName("script").find((e=>e.src&&e.src.indexOf(t)>=0));return!r||(n&&e.execute({data:n,context:a}),r.parentNode.removeChild(r),!0)},e.sleep=e=>{const{prop:n,response:r}=e;return!t.retry(e,n)||(t.setWakeup(r,100),!1)},e.alert=({data:e})=>(n.info(e),!0),e.confirm=e=>{const{count:n,data:r}=e;return t.confirm(e,n,r),!1},e.call=({func:t,data:n,context:o={}})=>{e.context=o;const a=r.findFunction(t);return a&&a.apply(e.context,n),!0},e.execute=({data:t,context:n={}})=>{e.context=n;const o=`() => {\n    ${t}\n}`;try{r.createFunction(o),e.context.delegateCall()}catch(e){}return!0},e.waitFor=n=>{const{data:o,prop:a,response:s,context:c={}}=n;e.context=c;const i=`() => {\n    return (${o});\n}`;try{r.createFunction(i);if(!e.context.delegateCall()&&t.retry(n,a))return t.setWakeup(s,100),!1}catch(e){}return!0};const s=e=>void 0===e?"":Array.isArray(e)?e.join(", "):"object"==typeof e?e.values().join(", "):e;e.setFunction=({func:t,data:n,prop:o,context:a={}})=>{e.context=a;const c=`(${s(o)}) => {\n    ${n}\n}`;try{r.createFunction(c,t)}catch(e){}return!0},e.wrapped={},e.wrapFunction=({func:t,type:n,prop:o,data:[a,c="// No call after"],context:i={}})=>{e.context=i;const u=r.findFunction(t);if(!u)return!0;const l=t.toLowerCase().replaceAll(".","_");e.wrapped[l]||(e.wrapped[l]=u);const d=n?`let ${n} = null;`:"// No return value",p=n?`${n} = `:"",m=n?`return ${n};`:"// No return value",f=`(${s(o)}) => {\n    ${d}\n    ${a}\n\n    const wrappedFuncName = "${t}".toLowerCase().replaceAll('.', '_');\n    // Call the wrapped function (saved in jaxon.cmd.script.wrapped) with the same parameters.\n    ${p}jaxon.cmd.script.wrapped[wrappedFuncName](${o});\n    ${c}\n    ${m}\n}`;try{r.createFunction(f,t),e.context.delegateCall()}catch(e){}return!0},e.redirect=({data:e,delay:t})=>t<=0?(a.location=e,!0):(a.setTimeout((()=>a.location=e),1e3*t),!0)}(jaxon.cmd.script,jaxon.utils.delay,jaxon.ajax.message,jaxon.utils.dom,jaxon.config.baseDocument,window),function(e,t,n){e.add=({data:e,media:t="screen"})=>{const r=n.getElementsByTagName("head")[0];if(r.getElementsByTagName("link").find((n=>n.href.indexOf(e)>=0&&n.media==t)))return!0;const o=n.createElement("link");return o.rel="stylesheet",o.type="text/css",o.href=e,o.media=t,r.appendChild(o),!0},e.remove=({data:e,media:t="screen"})=>{const r=n.getElementsByTagName("head")[0];return r.getElementsByTagName("link").filter((n=>n.href.indexOf(e)>=0&&n.media===t)).forEach((e=>r.removeChild(e))),!0},e.waitForCSS=e=>{if(n.styleSheets.every((e=>0!==(e.cssRules.length??e.rules.length??0))))return!1;const{prop:r,response:o}=e;return!t.retry(e,r)||(t.setWakeup(o,10),!1)}}(jaxon.cmd.style,jaxon.utils.delay,jaxon.config.baseDocument),function(e,t){const n=e=>({timer:null,delay:e});e.create=(e,r)=>({timers:{onResponseDelay:n(e??t.defaultResponseDelayTime),onExpiration:n(r??t.defaultExpirationTime)},onPrepare:null,onRequest:null,onResponseDelay:null,onExpiration:null,beforeResponseProcessing:null,onFailure:null,onRedirect:null,onSuccess:null,onComplete:null}),e.callback=e.create(),e.execute=(t,n,r)=>{void 0!==t.timers?void 0!==t[n]&&"function"==typeof t[n]&&(void 0!==t.timers[n]?t.timers[n].timer=setTimeout((function(){t[n](r)}),t.timers[n].delay):t[n](r)):t.forEach((t=>e.execute(t,n,r)))},e.clearTimer=(t,n)=>{void 0!==t.timers?void 0!==t.timers[n]&&clearTimeout(t.timers[n].timer):t.forEach((t=>e.clearTimer(t,n)))}}(jaxon.ajax.callback,jaxon.config),function(e,t,n,r,o,a,s,c,i){const u={};e.register=(e,t,n)=>u[e]={name:t,func:n},e.unregister=e=>{const t=u[e];return delete u[e],t.func},e.isRegistered=({cmd:e})=>void 0!==e&&void 0!==u[e],e.execute=t=>!e.isRegistered(t)||(t.id&&(t.target=c.$(t.id)),e.call(t)),e.call=e=>{const t=u[e.cmd];e.fullName=t.name,t.func(e)},e.register("rcmplt","Response complete",(({request:e})=>(t.complete(e),!0))),e.register("css","includeCSS",r.add),e.register("rcss","removeCSS",r.remove),e.register("wcss","waitForCSS",r.waitForCSS),e.register("as","assign/clear",n.assign),e.register("ap","append",n.append),e.register("pp","prepend",n.prepend),e.register("rp","replace",n.replace),e.register("rm","remove",n.remove),e.register("ce","create",n.create),e.register("ie","insert",n.insert),e.register("ia","insertAfter",n.insertAfter),e.register("c:as","context assign",n.contextAssign),e.register("c:ap","context append",n.contextAppend),e.register("c:pp","context prepend",n.contextPrepend),e.register("s","sleep",o.sleep),e.register("ino","includeScriptOnce",o.includeScriptOnce),e.register("in","includeScript",o.includeScript),e.register("rjs","removeScript",o.removeScript),e.register("wf","waitFor",o.waitFor),e.register("js","execute Javascript",o.execute),e.register("jc","call js function",o.call),e.register("sf","setFunction",o.setFunction),e.register("wpf","wrapFunction",o.wrapFunction),e.register("al","alert",o.alert),e.register("cc","confirm",o.confirm),e.register("rd","redirect",o.redirect),e.register("ci","createInput",a.createInput),e.register("ii","insertInput",a.insertInput),e.register("iia","insertInputAfter",a.insertInputAfter),e.register("ev","setEvent",s.setEvent),e.register("ah","addHandler",s.addHandler),e.register("rh","removeHandler",s.removeHandler),e.register("dbg","Debug message",(function({data:e}){return i.log(e),!0}))}(jaxon.ajax.handler,jaxon.ajax.response,jaxon.cmd.node,jaxon.cmd.style,jaxon.cmd.script,jaxon.cmd.form,jaxon.cmd.event,jaxon.utils.dom,console),function(e){e.success=(e,t)=>alert(e),e.info=(e,t)=>alert(e),e.warning=(e,t)=>alert(e),e.error=(e,t)=>alert(e),e.confirm=(e,t,n,r)=>{confirm(e)?n():r&&r()}}(jaxon.ajax.message),function(e,t){e.bags={};const n=e=>{if(null==e)return"*";const t=typeof e;if("object"===t)try{return encodeURIComponent(JSON.stringify(e))}catch(t){e=""}return e=encodeURIComponent(e),"string"===t?"S"+e:"boolean"===t?"B"+e:"number"===t?"N"+e:e},r=(r,o)=>{if(o("jxnr",r.dNow.getTime()),o("jxnv",`${t.major}.${t.minor}.${t.patch}`),Object.keys(r.functionName).forEach((e=>o(e,encodeURIComponent(r.functionName[e])))),r.parameters)for(const e of r.parameters)o("jxnargs[]",n(e));if(r.bags){const t={};r.bags.forEach((n=>t[n]=e.bags[n]??"*")),o("jxnbags",n(t))}};e.process=e=>{e.dNow=new Date,e.requestURI=e.URI,e.requestData=e.upload&&e.upload.ajax&&e.upload.input?(e=>{const t=new FormData;r(e,((e,n)=>t.append(e,n)));const n=e.upload.input;return n.files&&n.files.forEach((e=>t.append(n.name,e))),t})(e):(e=>{const t=[];return r(e,((e,n)=>t.push(e+"="+n))),"GET"===e.method&&(e.requestURI+=-1===e.requestURI.indexOf("?")?"?":"&",e.requestURI+=t.join("&"),t=[]),t.join("&")})(e),delete e.dNow}}(jaxon.ajax.parameters,jaxon.version),function(e,t,n,r,o,a,s,c,i){const u=e=>{["commonHeaders","postHeaders","getHeaders"].forEach((n=>e[n]={...t[n],...e[n]}));const n={statusMessages:t.statusMessages,waitCursor:t.waitCursor,mode:t.defaultMode,method:t.defaultMethod,URI:t.requestURI,httpVersion:t.defaultHttpVersion,contentType:t.defaultContentType,convertResponseToJson:t.convertResponseToJson,retry:t.defaultRetry,returnValue:t.defaultReturnValue,maxObjectDepth:t.maxObjectDepth,maxObjectSize:t.maxObjectSize,context:i,upload:!1,aborted:!1};if(Object.keys(n).forEach((t=>e[t]=e[t]??n[t])),(e=>{const t=o.create();["onPrepare","onRequest","onResponseDelay","onExpiration","beforeResponseProcessing","onFailure","onRedirect","onSuccess","onComplete"].forEach((n=>{void 0!==e[n]&&(t[n]=e[n],t.hasEvents=!0,delete e[n])})),void 0!==e.callback?(void 0===e.callback.timers&&(e.callback.timers=[]),t.hasEvents&&(e.callback=[e.callback,t])):e.callback=t})(e),e.status=e.statusMessages?t.status.update():t.status.dontUpdate(),e.cursor=e.waitCursor?t.cursor.update():t.cursor.dontUpdate(),e.method=e.method.toUpperCase(),"GET"!==e.method&&(e.method="POST"),e.requestRetry=e.retry,a.initialize(e),void 0===e.URI)throw{code:10005}},l=e=>{if(o.execute([o.callback,e.callback],"onPrepare",e),!0===e.aborted)return!1;e.responseHandler=function(t){e.responseContent=t,s.empty(c.q.send)||"synchronous"===e.mode?r.received(e):s.push(c.q.recv,e)};const t=s.empty(c.q.send);return"synchronous"===e.mode?(s.push(c.q.send,e),s.push(c.q.recv,e),t):(t||s.push(c.q.send,e),t)},d=e=>{e.status.onRequest(),o.execute([o.callback,e.callback],"onResponseDelay",e),o.execute([o.callback,e.callback],"onExpiration",e),o.execute([o.callback,e.callback],"onRequest",e),e.cursor.onWaiting(),e.status.onWaiting();const t={...e.commonHeaders,..."POST"===e.method?e.postHeaders:e.getHeaders},n={method:e.method,mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"manual",headers:t,body:e.requestData};return fetch(e.requestURI,n).then((t=>(e.response=t,e.convertResponseToJson?t.json():t.text()))).then(e.responseHandler).catch((t=>{throw o.execute([o.callback,e.callback],"onFailure",e),t})),e.returnValue};e.abort=e=>{e.aborted=!0,e.request.abort(),r.complete(e)},e.execute=(e,t)=>{if(void 0===e)return!1;const r=t??{};for(r.functionName=e,u(r),n.process(r);r.requestRetry>0;)try{return l(r)?(--r.requestRetry,d(r)):null}catch(e){if(o.execute([o.callback,r.callback],"onFailure",r),0===r.requestRetry)throw e}return!0}}(jaxon.ajax.request,jaxon.config,jaxon.ajax.parameters,jaxon.ajax.response,jaxon.ajax.callback,jaxon.utils.upload,jaxon.utils.queue,jaxon.utils.delay,window),function(e,t,n,r,o,a,s,c,i){e.complete=e=>{if(o.execute([o.callback,e.callback],"onComplete",e),e.cursor.onComplete(),e.status.onComplete(),delete e.functionName,delete e.requestURI,delete e.requestData,delete e.requestRetry,delete e.request,delete e["responseHandler "],delete e.responseContent,delete e.response,delete e.sequence,delete e.status,delete e.cursor,"synchronous"===e.mode){for(a.pop(s.q.send),a.pop(s.q.recv);null!==(recvRequest=s.popAsyncRequest(s.q.recv));)received(recvRequest);for(;null!==(nextRequest=s.popAsyncRequest(s.q.send));)r.submit(nextRequest);null!==(nextRequest=a.peek(s.q.send))&&r.submit(nextRequest)}};const u=e=>{try{return!1!==n.execute(e)||(!e.requeue||(a.pushFront(commandQueue,e),!1))}catch(e){i.log(e)}return!0},l=[400,401,402,403,404,500,501,502,503],d=[301,302,307],p=t=>t.response.ok?(o.execute([o.callback,t.callback],"onSuccess",t),t.sequence=0,(e=>{const t=e.responseContent;t&&t.jxnobj&&(e.status.onProcessing(),t.jxnrv&&(e.returnValue=t.jxnrv),t.debugmsg&&i.log(t.debugmsg),t.jxnobj.forEach((t=>a.push(e.commandQueue,{...t,fullName:"*unknown*",sequence:e.sequence++,response:e.commandQueue,request:e,context:e.context}))))})(t),a.push(t.commandQueue,{fullName:"Response Complete",sequence:t.sequence,request:t,context:t.context,cmd:"rcmplt"}),t.commandQueue.timeout||(e=>{null!==e.timeout&&(clearTimeout(e.timeout),e.timeout=null);let t=null;for(;null!==(t=a.pop(e));)if(!u(t))return!1})(t.commandQueue),t.returnValue):d.indexOf(t.response.status)>=0?(o.execute([o.callback,t.callback],"onRedirect",t),c.location=t.response.headers.get("location"),e.complete(t),t.returnValue):l.indexOf(t.response.status)>=0?(o.execute([o.callback,t.callback],"onFailure",t),e.complete(t),t.returnValue):t.returnValue;e.received=e=>{if(e.aborted)return null;e.commandQueue=a.create(t.commandQueueSize),o.clearTimer([o.callback,e.callback],"onExpiration"),o.clearTimer([o.callback,e.callback],"onResponseDelay"),o.execute([o.callback,e.callback],"beforeResponseProcessing",e);return(e.responseProcessor??p)(e)}}(jaxon.ajax.response,jaxon.config,jaxon.ajax.handler,jaxon.ajax.request,jaxon.ajax.callback,jaxon.utils.queue,jaxon.utils.delay,window,console),function(e){"use strict";let t=[],n=!1,r=!1;const o=()=>{n||(n=!0,t.forEach((e=>e.fn.call(window,e.ctx))),t=[])},a=()=>"complete"===document.readyState&&o();e.ready=function(e,s){n?setTimeout((function(){e(s)}),1):(t.push({fn:e,ctx:s}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(o,1):r||(document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",a),window.attachEvent("onload",o)),r=!0))}}(jaxon.dom),
/*
    @package jaxon
    @version $Id: jaxon.core.js 327 2007-02-28 16:55:26Z calltoconstruct $
    @copyright Copyright (c) 2005-2007 by Jared White & J. Max Wilson
    @copyright Copyright (c) 2008-2010 by Joseph Woolley, Steffen Konerow, Jared White  & J. Max Wilson
    @copyright Copyright (c) 2017 by Thierry Feuzeu, Joseph Woolley, Steffen Konerow, Jared White  & J. Max Wilson
    @license https://opensource.org/license/bsd-3-clause/ BSD License
*/
jaxon.request=jaxon.ajax.request.execute,jaxon.register=jaxon.ajax.handler.register,jaxon.$=jaxon.utils.dom.$,jaxon.getFormValues=jaxon.utils.form.getValues,jaxon.msg=jaxon.ajax.message,jaxon.js=jaxon.cmd.script,jaxon.isLoaded=!0,jaxon.utils.delay.q={send:jaxon.utils.queue.create(jaxon.config.requestQueueSize),recv:jaxon.utils.queue.create(2*jaxon.config.requestQueueSize)},jaxon.command={handler:{},handler:{register:jaxon.ajax.handler.register},create:(e,t,n)=>({cmd:"*",fullName:"* unknown command name *",sequence:e,request:t,context:n})};const jxn={$:jaxon.utils.dom.$,getFormValues:jaxon.utils.form.getValues,request:jaxon.request};