var jaxon={debug:{verbose:{}},ajax:{callback:{},handler:{},message:{},parameters:{},request:{},response:{}},cmd:{delay:{},event:{},form:{},node:{},script:{},style:{}},tools:{dom:{},form:{},queue:{},string:{},upload:{}},dom:{}};jaxon.config={commonHeaders:{"If-Modified-Since":"Sat, 1 Jan 2000 00:00:00 GMT"},postHeaders:{},getHeaders:{},waitCursor:!1,statusMessages:!1,baseDocument:document,requestURI:document.URL,defaultMode:"asynchronous",defaultHttpVersion:"HTTP/1.1",defaultContentType:"application/x-www-form-urlencoded",defaultResponseDelayTime:1e3,convertResponseToJson:!0,defaultExpirationTime:1e4,defaultMethod:"POST",defaultRetry:5,defaultReturnValue:!1,maxObjectDepth:20,maxObjectSize:2e3,commandQueueSize:1e3,requestQueueSize:1e3},jaxon.config.status={update:function(){return{onRequest:function(){window.status="Sending Request..."},onWaiting:function(){window.status="Waiting for Response..."},onProcessing:function(){window.status="Processing..."},onComplete:function(){window.status="Done."}}},dontUpdate:function(){return{onRequest:function(){},onWaiting:function(){},onProcessing:function(){},onComplete:function(){}}}},jaxon.config.cursor={update:function(){return{onWaiting:function(){jaxon.config.baseDocument.body&&(jaxon.config.baseDocument.body.style.cursor="wait")},onComplete:function(){jaxon.config.baseDocument.body.style.cursor="auto"}}},dontUpdate:function(){return{onWaiting:function(){},onComplete:function(){}}}},function(e,t){e.$=e=>e?"string"!=typeof e?e:t.getElementById(e):null;e.getBrowserHTML=function(n){const o=function(){const n=e.$("jaxon_temp_workspace");if(n)return n;if(!t.body)return null;const o=t.createElement("div");return o.setAttribute("id","jaxon_temp_workspace"),o.style.display="none",o.style.visibility="hidden",t.body.appendChild(o),o}();o.innerHTML=n;const r=o.innerHTML;return o.innerHTML="",r},e.willChange=function(t,n,o){return"string"==typeof t&&(t=e.$(t)),!!t&&o!=t[n]},e.findFunction=function(e){const t=e.split(".");for(let e=0,n=t.length,o=window;e<n&&o;e++)o=o[t[e]];return context??null},e.getInnerObject=function(e,t){const n=t.split(".");t=n.pop();for(let t=0,o=n.length;t<o&&e;t++){const o=n[t];e=e["css"===o?"style":o]}return[e??null,e?t:null]},e.createFunction=function(e,n){if(!e)return;const o=void 0===n,r="jaxon_cmd_script_"+(void 0===n?"delegate_call":n.toLowerCase().replaceAll(".","_"));n=n??"jaxon.cmd.script.context.delegateCall",jaxon.cmd.node.remove(r);const a=t.createElement("script");return a.setAttribute("id",r),a.textContent=`\n    ${n} = ${e}\n`,t.body.appendChild(a),o&&jaxon.cmd.node.remove(r),!0}}(jaxon.tools.dom,jaxon.config.baseDocument),function(e,t){const n=function(e,t,o,r){t.forEach((t=>{void 0!==t.childNodes&&"select-one"!==t.type&&"select-multiple"!==t.type&&n(e,t.childNodes,o,r),function(e,t,n,o){if(!t.name||"PARAM"===t.tagName)return;if(!n&&t.disabled)return;if(o!==t.name.substring(0,o.length))return;if(("radio"===t.type||"checkbox"===t.type)&&!t.checked)return;if("file"===t.type)return;const r=t.name,a="select-multiple"!==t.type?t.value:t.options.filter((e=>e.selected)).map((e=>e.value)),u=r.indexOf("[");if(u<0)return void(e[r]=a);let c=r.substring(0,u),s=r.substring(u);e[c]=e[c]||{};let i=e;for(;s.length>0;){const e=s.substring(0,s.indexOf("]")+1),n=c,o=i;s=s.substring(s.indexOf("]")+1),i=i[c],c=e.substring(1,e.length-2),""===c&&("select-multiple"===t.type?(c=n,i=o):c=i.length),void 0===c&&(c=Object.keys(o[n]).length),i[c]=i[c]||{}}i[c]=a}(e,t,o,r)}))};e.getValues=function(e){const o=arguments.length>1&&1==arguments[1],r=arguments.length>2?arguments[2]:"";"string"==typeof e&&(e=t.$(e));const a={};return e&&e.childNodes&&n(a,e.childNodes,o,r),a}}(jaxon.tools.form,jaxon.tools.dom),function(e){e.create=e=>({start:0,count:0,size:e,end:0,elements:[],timeout:null}),e.empty=e=>e.count<=0,e.full=e=>e.count>=e.size,e.push=function(t,n){if(e.full(t))throw{code:10003};return t.elements[t.end]=n,++t.end>=t.size&&(t.end=0),++t.count},e.pushFront=function(t,n){if(e.full(t))throw{code:10003};return e.empty(t)?e.push(t,n):(--t.start<0&&(t.start=t.size-1),t.elements[t.start]=n,++t.count)},e.pop=function(t){if(e.empty(t))return null;let n=t.elements[t.start];return delete t.elements[t.start],++t.start>=t.size&&(t.start=0),t.count--,n},e.peek=function(t){return e.empty(t)?null:t.elements[t.start]}}(jaxon.tools.queue),function(e){e.doubleQuotes=e=>void 0!==e&&e.replace(new RegExp("'","g"),'"'),e.singleQuotes=e=>void 0!==e&&e.replace(new RegExp('"',"g"),"'"),e.stripOnPrefix=function(e){return 0===(e=e.toLowerCase()).indexOf("on")?e.replace(/on/,""):e},e.addOnPrefix=function(e){return 0!==(e=e.toLowerCase()).indexOf("on")?"on"+e:e},String.prototype.supplant||(String.prototype.supplant=function(e){return this.replace(/\{([^{}]*)\}/g,(function(t,n){const o=e[n];return"string"==typeof o||"number"==typeof o?o:t}))})}(jaxon.tools.string),function(e,t,n){e.initialize=function(e){(function(e){if(!e.upload)return!1;e.upload={id:e.upload,input:null,form:null};const o=t.$(e.upload.id);return o?"file"!==o.type?(n.log("The upload input field with id "+e.upload.id+" is not of type file"),!1):0===o.files.length?(n.log("There is no file selected for upload in input field with id "+e.upload.id),!1):void 0===o.name?(n.log("The upload input field with id "+e.upload.id+" has no name attribute"),!1):(e.upload.input=o,e.upload.form=o.form,!0):(n.log("Unable to find input field for file upload with id "+e.upload.id),!1)})(e)||(e.postHeaders["content-type"]=e.contentType)}}(jaxon.tools.upload,jaxon.tools.dom,console),function(e,t,n,o){e.popAsyncRequest=e=>n.empty(e)||"synchronous"===n.peek(e).mode?null:n.pop(e),e.retry=function(e,t){let n=e.retries;if(n){if(--n,1>n)return!1}else n=t;return e.retries=n,e.requeue=!0,!0},e.setWakeup=function(e,n){null!==e.timeout&&(clearTimeout(e.timeout),e.timeout=null),e.timout=setTimeout((function(){t.process(e)}),n)};const r=function(o,r,a){if(!0===a)for(;r>0&&o.response.count>1&&null!==n.pop(o.response);)--r;!0!==o.requeue?t.process(o.response):e.setWakeup(o.response,30)};e.confirm=function(e,t,n){return e.requeue=!0,o.confirm(n,"",(function(){r(e,t,!1)}),(function(){r(e,t,!0)})),e.requeue=!1,!1}}(jaxon.cmd.delay,jaxon.ajax.response,jaxon.tools.queue,jaxon.ajax.message),function(e,t,n,o){e.setEvent=function(e){e.fullName="setEvent";const r=n.addOnPrefix(e.prop),a=n.doubleQuotes(e.data),u=t.$(e.id);return t.createFunction(`(e) => { ${a} }`),u[r]=o.context.delegateCall,!0};const r=window.addEventListener?n.stripOnPrefix:n.addOnPrefix,a=window.addEventListener?(e,n,o)=>e.addEventListener(n,t.findFunction(o),!1):(e,n,o)=>e.attachEvent(n,t.findFunction(o)),u=window.addEventListener?(e,n,o)=>e.removeEventListener(n,t.findFunction(o),!1):(e,n,o)=>e.detachEvent(n,t.findFunction(o));e.addHandler=function(e){e.fullName="addHandler";const n=e.data,o=r(e.prop),u=t.$(e.id);return a(u,o,n)},e.removeHandler=function(e){e.fullName="removeHandler";const n=e.data,o=r(e.prop),a=t.$(e.id);return u(a,o,n)}}(jaxon.cmd.event,jaxon.tools.dom,jaxon.tools.string,jaxon.cmd.script),function(e,t,n){const o=function(e,t,o){const r=n.createElement("input");return r.setAttribute("type",e),r.setAttribute("name",t),r.setAttribute("id",o),r};e.createInput=function(e){e.fullName="createInput";const n=t.$(e.id),r=e.type,a=e.data,u=e.prop,c=o(r,a,u);return n&&c&&n.appendChild(c),!0},e.insertInput=function(e){e.fullName="insertInput";const n=t.$(e.id),r=e.type,a=e.data,u=e.prop,c=o(r,a,u);return c&&n&&n.parentNode&&n.parentNode.insertBefore(c,n),!0},e.insertInputAfter=function(e){e.fullName="insertInputAfter";const n=t.$(e.id),r=e.type,a=e.data,u=e.prop,c=o(r,a,u);return c&&n&&n.parentNode&&n.parentNode.insertBefore(c,n.nextSibling),!0}}(jaxon.cmd.form,jaxon.tools.dom,jaxon.config.baseDocument),function(e,t,n){e.assign=function(e,n,o){if(e=t.$(e),"innerHTML"===n)return e.innerHTML=o,!0;if("outerHTML"===n)return e.outerHTML=o,!0;const[r,a]=t.getInnerObject(e,n);return!r||(r[a]=o,!0)},e.append=function(e,n,o){if(e=t.$(e),"innerHTML"===n)return e.innerHTML=e.innerHTML+o,!0;if("outerHTML"===n)return e.outerHTML=e.outerHTML+o,!0;const[r,a]=t.getInnerObject(e,n);return!r||(r[a]=r[a]+o,!0)},e.prepend=function(e,n,o){if(e=t.$(e),"innerHTML"===n)return e.innerHTML=o+e.innerHTML,!0;if("outerHTML"===n)return e.outerHTML=o+e.outerHTML,!0;const[r,a]=t.getInnerObject(e,n);return!r||(r[a]=o+r[a],!0)},e.replace=function(e,n,o){const r=o.r,a="innerHTML"===n?t.getBrowserHTML(o.s):o.s;e=t.$(e);const[u,c]=t.getInnerObject(e,n);if(!u)return!0;let s=u[c],i=!1;"function"==typeof s&&(s=s.join(""),i=!0);let l=s.indexOf(a);if(l>-1){let o=[];for(;l>-1;){const e=l+a.length;o.push(s.substr(0,l)),o.push(r),s=s.substr(e,s.length-e),l=s.indexOf(a)}o.push(s),o=o.join(""),(i||t.willChange(e,n,o))&&(u[c]=o)}return!0},e.remove=function(e){return(e=t.$(e))&&e.parentNode&&e.parentNode.removeChild&&e.parentNode.removeChild(e),!0},e.create=function(e,o,r){if(!(e=t.$(e)))return!0;const a=n.createElement(o);return a.setAttribute("id",r),e.appendChild(a),!0},e.insert=function(e,o,r){if(!(e=t.$(e))||!e.parentNode)return!0;const a=n.createElement(o);return a.setAttribute("id",r),e.parentNode.insertBefore(a,e),!0},e.insertAfter=function(e,o,r){if(!(e=t.$(e))||!e.parentNode)return!0;const a=n.createElement(o);return a.setAttribute("id",r),e.parentNode.insertBefore(a,e.nextSibling),!0},e.contextAssign=function(e){e.fullName="context assign";const[n,o]=t.getInnerObject(this,e.prop);return!n||(n[o]=e.data,!0)},e.contextAppend=function(e){e.fullName="context append";const[n,o]=t.getInnerObject(this,e.prop);return!n||(n[o]=n[o]+e.data,!0)},e.contextPrepend=function(e){e.fullName="context prepend";const[n,o]=t.getInnerObject(this,e.prop);return!n||(n[o]=e.data+n[o],!0)}}(jaxon.cmd.node,jaxon.tools.dom,jaxon.config.baseDocument),function(e,t,n,o,r,a){e.includeScriptOnce=function(t){t.fullName="includeScriptOnce";const n=t.data;return!!r.getElementsByTagName("script").find((e=>e.src&&e.src.indexOf(n)>=0))||e.includeScript(t)},e.includeScript=function(e){e.fullName="includeScript";const t=r.getElementsByTagName("head"),n=r.createElement("script");return n.src=e.data,n.type=e.type||"text/javascript",e.elm_id&&n.setAttribute("id",e.elm_id),t[0].appendChild(n),!0},e.removeScript=function(t){t.fullName="removeScript";const n=t.data,o=r.getElementsByTagName("script").find((e=>e.src&&e.src.indexOf(n)>=0));return!o||(t.unld&&e.execute({data:t.unld,context:a}),o.parentNode.removeChild(o),!0)},e.sleep=function(e){return e.fullName="sleep",!t.retry(e,e.prop)||(t.setWakeup(e.response,100),!1)},e.alert=function(e){return e.fullName="alert",n.info(e.data),!0},e.confirm=function(e){return e.fullName="confirm",t.confirm(e,e.count,e.data),!1},e.call=function(t){t.fullName="call js function",e.context=t.context??{};const n=o.findFunction(t.func);return!n||(n.apply(e.context,t.data),!0)},e.execute=function(t){t.fullName="execute Javascript",e.context=t.context??{};const n=`() => {\n    ${t.data}\n}`;return o.createFunction(n),e.context.delegateCall(),!0},e.waitFor=function(n){n.fullName="waitFor",e.context=n.context??{};try{const r=`() => {\n    return (${n.data});\n}`;o.createFunction(r);if(!e.context.delegateCall()&&t.retry(n,n.prop))return t.setWakeup(n.response,100),!1}catch(e){}return!0};const u=function(e){return void 0===e?"":Array.isArray(e)?e.join(", "):"object"==typeof e?e.values().join(", "):e};e.setFunction=function(e){e.fullName="setFunction";const t=`(${u(e.prop)}) => {\n    ${e.data}\n}`;return o.createFunction(t,e.func),!0},e.wrapped={},e.wrapFunction=function(t){t.fullName="wrapFunction",e.context=t.context??{};const n=o.findFunction(t.func);if(!n)return!0;const r=t.func.toLowerCase().replaceAll(".","_");e.wrapped[r]||(e.wrapped[r]=n);const a=t.type?`let ${t.type} = null;`:"// No return value",c=t.type?`${t.type} = `:"",s=t.type?`return ${t.type};`:"// No return value",i=u(t.prop),l=t.data[0],d=t.data[1]||"// No call after",p=`(${i}) => {\n    ${a}\n    ${l}\n\n    const wrappedFuncName = "${t.func}".toLowerCase().replaceAll('.', '_');\n    // Call the wrapped function (saved in jaxon.cmd.script.wrapped) with the same parameters.\n    ${c}jaxon.cmd.script.wrapped[wrappedFuncName](${i});\n    ${d}\n    ${s}\n}`;return o.createFunction(p,t.func),e.context.delegateCall(),!0}}(jaxon.cmd.script,jaxon.cmd.delay,jaxon.ajax.message,jaxon.tools.dom,jaxon.config.baseDocument,window),function(e,t,n){e.add=function(e,t){const o=n.getElementsByTagName("head")[0];if(o.getElementsByTagName("link").find((n=>n.href.indexOf(e)>=0&&n.media==t)))return!0;const r=n.createElement("link");return r.rel="stylesheet",r.type="text/css",r.href=e,r.media=t,o.appendChild(r),!0},e.remove=function(e,t){const o=n.getElementsByTagName("head")[0],r=o.getElementsByTagName("link");return r.filter(link=r[i].href.indexOf(e)>=0&&r[i].media==t).forEach((e=>o.removeChild(e))),!0},e.waitForCSS=function(e){if(!n.styleSheets.map((e=>e.cssRules.length??e.rules.length??0)).every((e=>0!==e)))return!t.retry(e,e.prop)||(t.setWakeup(e.response,10),!1)}}(jaxon.cmd.style,jaxon.cmd.delay,jaxon.config.baseDocument),function(e,t){const n=function(e){return{timer:null,delay:e}};e.create=function(){return{timers:{onResponseDelay:n(arguments.length>0?arguments[0]:t.defaultResponseDelayTime),onExpiration:n(arguments.length>1?arguments[1]:t.defaultExpirationTime)},onPrepare:null,onRequest:null,onResponseDelay:null,onExpiration:null,beforeResponseProcessing:null,onFailure:null,onRedirect:null,onSuccess:null,onComplete:null}},e.callback=e.create(),e.execute=function(t,n,o){void 0!==t.timers?void 0!==t[n]&&"function"==typeof t[n]&&(void 0!==t.timers[n]?t.timers[n].timer=setTimeout((function(){t[n](o)}),t.timers[n].delay):t[n](o)):t.forEach((t=>e.execute(t,n,o)))},e.clearTimer=function(t,n){void 0!==t.timers?void 0!==t.timers[n]&&clearTimeout(t.timers[n].timer):t.forEach((t=>e.clearTimer(t,n)))}}(jaxon.ajax.callback,jaxon.config),function(e,t,n,o,r,a,u,c,s){const i=[];e.execute=function(t){return!e.isRegistered(t)||(t.id&&(t.target=c.$(t.id)),e.call(t))},e.register=function(e,t){i[e]=t},e.unregister=function(e){const t=i[e];return delete i[e],t},e.isRegistered=function(e){return void 0!==e.cmd&&void 0!==i[e.cmd]},e.call=function(e){return i[e.cmd](e)},e.register("rcmplt",(function(e){return t.complete(e.request),!0})),e.register("css",(function(e){return e.fullName="includeCSS",void 0===e.media&&(e.media="screen"),o.add(e.data,e.media)})),e.register("rcss",(function(e){return e.fullName="removeCSS",void 0===e.media&&(e.media="screen"),o.remove(e.data,e.media)})),e.register("wcss",(function(e){return e.fullName="waitForCSS",o.waitForCSS(e)})),e.register("as",(function(e){e.fullName="assign/clear";try{return n.assign(e.target,e.prop,e.data)}catch(e){}return!0})),e.register("ap",(function(e){return e.fullName="append",n.append(e.target,e.prop,e.data)})),e.register("pp",(function(e){return e.fullName="prepend",n.prepend(e.target,e.prop,e.data)})),e.register("rp",(function(e){return e.fullName="replace",n.replace(e.id,e.prop,e.data)})),e.register("rm",(function(e){return e.fullName="remove",n.remove(e.id)})),e.register("ce",(function(e){return e.fullName="create",n.create(e.id,e.data,e.prop)})),e.register("ie",(function(e){return e.fullName="insert",n.insert(e.id,e.data,e.prop)})),e.register("ia",(function(e){return e.fullName="insertAfter",n.insertAfter(e.id,e.data,e.prop)})),e.register("c:as",n.contextAssign),e.register("c:ap",n.contextAppend),e.register("c:pp",n.contextPrepend),e.register("s",r.sleep),e.register("ino",r.includeScriptOnce),e.register("in",r.includeScript),e.register("rjs",r.removeScript),e.register("wf",r.waitFor),e.register("js",r.execute),e.register("jc",r.call),e.register("sf",r.setFunction),e.register("wpf",r.wrapFunction),e.register("al",r.alert),e.register("cc",r.confirm),e.register("ci",a.createInput),e.register("ii",a.insertInput),e.register("iia",a.insertInputAfter),e.register("ev",u.setEvent),e.register("ah",u.addHandler),e.register("rh",u.removeHandler),e.register("dbg",(function(e){return e.fullName="debug message",s.log(e.data),!0}))}(jaxon.ajax.handler,jaxon.ajax.response,jaxon.cmd.node,jaxon.cmd.style,jaxon.cmd.script,jaxon.cmd.form,jaxon.cmd.event,jaxon.tools.dom,console),function(e){e.success=(e,t)=>alert(e),e.info=(e,t)=>alert(e),e.warning=(e,t)=>alert(e),e.error=(e,t)=>alert(e),e.confirm=function(e,t,n,o){confirm(e)?n():o&&o()}}(jaxon.ajax.message),function(e){e.bags={};const t=function(e){if(null==e)return"*";const t=typeof e;if("object"===t)try{return encodeURIComponent(JSON.stringify(e))}catch(t){e=""}return e=encodeURIComponent(e),"string"===t?"S"+e:"boolean"===t?"B"+e:"number"===t?"N"+e:e},n=function(n){const o=new FormData;o.append("jxnr",n.dNow.getTime());const r=n.upload.input;if(r.files&&r.files.forEach((e=>o.append(r.name,e))),Object.keys(n.functionName).forEach((e=>o.append(e,encodeURIComponent(n.functionName[e])))),n.parameters)for(const e of n.parameters)o.append("jxnargs[]",t(e));if(n.bags){const r={};n.bags.forEach((t=>r[t]=e.bags[t]??"*")),o.append("jxnbags",t(r))}n.requestURI=n.URI,n.requestData=o},o=function(n){const o=[];if(o.push("jxnr="+n.dNow.getTime()),Object.keys(n.functionName).forEach((e=>o.push(e+"="+encodeURIComponent(n.functionName[e])))),n.parameters)for(const e of n.parameters)o.push("jxnargs[]="+t(e));if(n.bags){const r={};n.bags.forEach((t=>r[t]=e.bags[t]??"*")),o.push("jxnbags="+t(r))}n.requestURI=n.URI,"GET"===n.method&&(n.requestURI+=-1===n.requestURI.indexOf("?")?"?":"&",n.requestURI+=o.join("&"),o=[]),n.requestData=o.join("&")};e.process=function(e){const t=e.upload&&e.upload.ajax&&e.upload.input?n:o;e.dNow=new Date,t(e),delete e.dNow}}(jaxon.ajax.parameters),function(e,t,n,o,r,a,u,c,s){const i=function(e){["commonHeaders","postHeaders","getHeaders"].forEach((n=>{e[n]={...t[n],...e[n]}}));const n={statusMessages:t.statusMessages,waitCursor:t.waitCursor,mode:t.defaultMode,method:t.defaultMethod,URI:t.requestURI,httpVersion:t.defaultHttpVersion,contentType:t.defaultContentType,convertResponseToJson:t.convertResponseToJson,retry:t.defaultRetry,returnValue:t.defaultReturnValue,maxObjectDepth:t.maxObjectDepth,maxObjectSize:t.maxObjectSize,context:s,upload:!1,aborted:!1};if(Object.keys(n).forEach((t=>{e[t]=e[t]??n[t]})),function(e){const t=r.create();["onPrepare","onRequest","onResponseDelay","onExpiration","beforeResponseProcessing","onFailure","onRedirect","onSuccess","onComplete"].forEach((n=>{void 0!==e[n]&&(t[n]=e[n],t.hasEvents=!0,delete e[n])})),void 0!==e.callback?(void 0===e.callback.timers&&(e.callback.timers=[]),t.hasEvents&&(e.callback=[e.callback,t])):e.callback=t}(e),e.status=e.statusMessages?t.status.update():t.status.dontUpdate(),e.cursor=e.waitCursor?t.cursor.update():t.cursor.dontUpdate(),e.method=e.method.toUpperCase(),"GET"!==e.method&&(e.method="POST"),e.requestRetry=e.retry,a.initialize(e),void 0===e.URI)throw{code:10005}},l=function(e){if(r.execute([r.callback,e.callback],"onPrepare",e),!0===e.aborted)return!1;e.responseHandler=function(t){e.responseContent=t,u.empty(c.q.send)||"synchronous"===e.mode?o.received(e):u.push(c.q.recv,e)};const t=u.empty(c.q.send);return"synchronous"===e.mode?(u.push(c.q.send,e),u.push(c.q.recv,e),t):(t||u.push(c.q.send,e),t)},d=function(e){e.status.onRequest(),r.execute([r.callback,e.callback],"onResponseDelay",e),r.execute([r.callback,e.callback],"onExpiration",e),r.execute([r.callback,e.callback],"onRequest",e),e.cursor.onWaiting(),e.status.onWaiting();const t={...e.commonHeaders,..."POST"===e.method?e.postHeaders:e.getHeaders},n={method:e.method,mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"manual",headers:t,body:e.requestData};return fetch(e.requestURI,n).then((t=>(e.response=t,e.convertResponseToJson?t.json():t.text()))).then(e.responseHandler).catch((t=>{throw r.execute([r.callback,e.callback],"onFailure",e),t})),e.returnValue};e.abort=function(e){e.aborted=!0,e.request.abort(),o.complete(e)},e.execute=function(e,t){if(void 0===e)return!1;const o=t??{};for(o.functionName=e,i(o),n.process(o);o.requestRetry>0;)try{return l(o)?(--o.requestRetry,d(o)):null}catch(e){if(r.execute([r.callback,o.callback],"onFailure",o),0===o.requestRetry)throw e}}}(jaxon.ajax.request,jaxon.config,jaxon.ajax.parameters,jaxon.ajax.response,jaxon.ajax.callback,jaxon.tools.upload,jaxon.tools.queue,jaxon.cmd.delay,window),function(e,t,n,o,r,a,u,c,s){e.complete=function(e){if(r.execute([r.callback,e.callback],"onComplete",e),e.cursor.onComplete(),e.status.onComplete(),delete e.functionName,delete e.requestURI,delete e.requestData,delete e.requestRetry,delete e.request,delete e["responseHandler "],delete e.responseContent,delete e.response,delete e.sequence,delete e.status,delete e.cursor,"synchronous"===e.mode){for(a.pop(u.q.send),a.pop(u.q.recv);null!=(recvRequest=u.popAsyncRequest(u.q.recv));)received(recvRequest);for(;null!=(nextRequest=u.popAsyncRequest(u.q.send));)o.submit(nextRequest);null!=(nextRequest=a.peek(u.q.send))&&o.submit(nextRequest)}};const i=function(e){try{return!1!==n.execute(e)||(e.requeue?(a.pushFront(commandQueue,e),!1):(delete e,!0))}catch(e){s.log(e)}return delete e,!0},l=["0","200"],d=["400","401","402","403","404","500","501","502","503"],p=["301","302","307"],f=function(t){return void 0!==l.find((e=>e==t.response.status))?(r.execute([r.callback,t.callback],"onSuccess",t),t.sequence=0,function(e){const t=e.responseContent;t&&t.jxnobj&&(e.status.onProcessing(),t.jxnrv&&(e.returnValue=t.jxnrv),t.debugmsg&&s.log(t.debugmsg),t.jxnobj.forEach((t=>a.push(e.commandQueue,{...t,fullName:"*unknown*",sequence:e.sequence++,response:e.commandQueue,request:e,context:e.context}))))}(t),a.push(t.commandQueue,{fullName:"Response Complete",sequence:t.sequence,request:t,context:t.context,cmd:"rcmplt"}),t.commandQueue.timeout||function(e){null!==e.timeout&&(clearTimeout(e.timeout),e.timeout=null);let t=null;for(;null!==(t=a.pop(e));)if(!i(t))return!1}(t.commandQueue),t.returnValue):void 0!==p.find((e=>e==t.response.status))?(r.execute([r.callback,t.callback],"onRedirect",t),c.location=t.request.getResponseHeader("location"),e.complete(t),t.returnValue):void 0!==d.find((e=>e==t.response.status))?(r.execute([r.callback,t.callback],"onFailure",t),e.complete(t),t.returnValue):t.returnValue};e.received=function(e){if(e.aborted)return null;e.commandQueue=a.create(t.commandQueueSize),r.clearTimer([r.callback,e.callback],"onExpiration"),r.clearTimer([r.callback,e.callback],"onResponseDelay"),r.execute([r.callback,e.callback],"beforeResponseProcessing",e);return(e.responseProcessor??f)(e)}}(jaxon.ajax.response,jaxon.config,jaxon.ajax.handler,jaxon.ajax.request,jaxon.ajax.callback,jaxon.tools.queue,jaxon.cmd.delay,window,console),function(e){"use strict";let t=[],n=!1,o=!1;const r=()=>{n||(n=!0,t.forEach((e=>e.fn.call(window,e.ctx))),t=[])},a=()=>"complete"===document.readyState&&r();e.ready=function(e,u){n?setTimeout((function(){e(u)}),1):(t.push({fn:e,ctx:u}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(r,1):o||(document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):(document.attachEvent("onreadystatechange",a),window.attachEvent("onload",r)),o=!0))}}(jaxon.dom),
/*
    @package jaxon
    @version $Id: jaxon.core.js 327 2007-02-28 16:55:26Z calltoconstruct $
    @copyright Copyright (c) 2005-2007 by Jared White & J. Max Wilson
    @copyright Copyright (c) 2008-2010 by Joseph Woolley, Steffen Konerow, Jared White  & J. Max Wilson
    @license http://www.jaxonproject.org/bsd_license.txt BSD License
*/
jaxon.request=jaxon.ajax.request.execute,jaxon.register=jaxon.ajax.handler.register,jaxon.$=jaxon.tools.dom.$,jaxon.getFormValues=jaxon.tools.form.getValues,jaxon.msg=jaxon.ajax.message,jaxon.js=jaxon.cmd.script,jaxon.isLoaded=!0,jaxon.cmd.delay.q={send:jaxon.tools.queue.create(jaxon.config.requestQueueSize),recv:jaxon.tools.queue.create(2*jaxon.config.requestQueueSize)},jaxon.command={handler:{},handler:{register:jaxon.ajax.handler.register},create:function(e,t,n){return{cmd:"*",fullName:"* unknown command name *",sequence:e,request:t,context:n}}};const jxn={$:jaxon.tools.dom.$,getFormValues:jaxon.tools.form.getValues,request:jaxon.request};