var jaxon={config:{},debug:{}};jaxon.debug.verbose={},jaxon.ajax={},jaxon.tools={},jaxon.cmd={},jaxon.config.setDefault=function(e,t){void 0===jaxon.config[e]&&(jaxon.config[e]=t)},jaxon.config.setDefault("commonHeaders",{"If-Modified-Since":"Sat, 1 Jan 2000 00:00:00 GMT"}),jaxon.config.setDefault("postHeaders",{}),jaxon.config.setDefault("getHeaders",{}),jaxon.config.setDefault("waitCursor",!1),jaxon.config.setDefault("statusMessages",!1),jaxon.config.setDefault("baseDocument",document),jaxon.config.setDefault("requestURI",jaxon.config.baseDocument.URL),jaxon.config.setDefault("defaultMode","asynchronous"),jaxon.config.setDefault("defaultHttpVersion","HTTP/1.1"),jaxon.config.setDefault("defaultContentType","application/x-www-form-urlencoded"),jaxon.config.setDefault("defaultResponseDelayTime",1e3),jaxon.config.setDefault("defaultExpirationTime",1e4),jaxon.config.setDefault("defaultMethod","POST"),jaxon.config.setDefault("defaultRetry",5),jaxon.config.setDefault("defaultReturnValue",!1),jaxon.config.setDefault("maxObjectDepth",20),jaxon.config.setDefault("maxObjectSize",2e3),jaxon.config.setDefault("responseQueueSize",1e3),jaxon.config.status={update:function(){return{onRequest:function(){window.status="Sending Request..."},onWaiting:function(){window.status="Waiting for Response..."},onProcessing:function(){window.status="Processing..."},onComplete:function(){window.status="Done."}}},dontUpdate:function(){return{onRequest:function(){},onWaiting:function(){},onProcessing:function(){},onComplete:function(){}}}},jaxon.config.cursor={update:function(){return{onWaiting:function(){jaxon.config.baseDocument.body&&(jaxon.config.baseDocument.body.style.cursor="wait")},onComplete:function(){jaxon.config.baseDocument.body.style.cursor="auto"}}},dontUpdate:function(){return{onWaiting:function(){},onComplete:function(){}}}},jaxon.tools.ajax={createRequest:function(){return"undefined"!=typeof XMLHttpRequest?jaxon.tools.ajax.createRequest=function(){return new XMLHttpRequest}:"undefined"!=typeof ActiveXObject?jaxon.tools.ajax.createRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.4.0")}catch(e){return jaxon.tools.ajax.createRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){return jaxon.tools.ajax.createRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")},jaxon.tools.ajax.createRequest()}},jaxon.tools.ajax.createRequest()}}:window.createRequest?jaxon.tools.ajax.createRequest=function(){return window.createRequest()}:jaxon.tools.ajax.createRequest=function(){throw{code:10002}},jaxon.tools.ajax.createRequest()},processFragment:function(e,t,n,o){var r=jaxon,s=r.tools;for(nodeName in e)if("jxnobj"==nodeName){for(a in e[nodeName])if(parseInt(a)==a){var i=e[nodeName][a];i.fullName="*unknown*",i.sequence=t,i.request=o,i.context=o.context,s.queue.push(r.response,i),++t}}else if("jxnrv"==nodeName)n=e[nodeName];else{if("debugmsg"!=nodeName)throw{code:10004,data:i.fullName};txt=e[nodeName]}return n}},jaxon.tools.array={is_in:function(e,t){for(var n=0,a=e.length;n<a;){if(e[n]==t)return!0;++n}return!1}},jaxon.tools.dom={$:function(e){if(!e)return null;if("string"!=typeof e)return e;var t=jaxon.config.baseDocument,n=t.getElementById(e);return n||(t.all?t.all[e]:n)},getBrowserHTML:function(e){var t=jaxon.config.baseDocument;if(!t.body)return"";var n=jaxon.$("jaxon_temp_workspace");n||((n=t.createElement("div")).setAttribute("id","jaxon_temp_workspace"),n.style.display="none",n.style.visibility="hidden",t.body.appendChild(n)),n.innerHTML=e;var a=n.innerHTML;return n.innerHTML="",a},willChange:function(element,attribute,newData){var oldData;return"string"==typeof element&&(element=jaxon.$(element)),!!element&&(eval("oldData=element."+attribute),newData!=oldData)},findFunction:function(e){for(var t=window,n=e.split("."),a=0;a<n.length&&null!=t;a++)t=t[n[a]];return t}},jaxon.tools.form={getValues:function(e){var t=!1;1<arguments.length&&1==arguments[1]&&(t=!0);var n="";2<arguments.length&&(n=arguments[2]),"string"==typeof e&&(e=jaxon.$(e));var a={};return e&&e.childNodes&&jaxon.tools.form._getValues(a,e.childNodes,t,n),a},_getValues:function(e,t,n,a){for(var o=t.length,r=0;r<o;++r){var s=t[r];void 0!==s.childNodes&&"select-one"!=s.type&&"select-multiple"!=s.type&&jaxon.tools.form._getValues(e,s.childNodes,n,a),jaxon.tools.form._getValue(e,s,n,a)}},_getValue:function(e,t,n,a){if(t.name&&"PARAM"!=t.tagName&&(!t.disabled||1!=t.disabled||0!=n)&&a==t.name.substring(0,a.length)){if(t.type){if(("radio"==t.type||"checkbox"==t.type)&&0==t.checked)return;if("file"==t.type)return}var o=t.name,r=[];if("select-multiple"==t.type)for(var s=t.length,i=0;i<s;++i){var l=t.options[i];1==l.selected&&r.push(l.value)}else r=t.value;if(0<=o.indexOf("[")){var u=o,c=u.substr(0,u.indexOf("[")),d=u.substr(u.indexOf("["));void 0===e[c]&&(e[c]={});for(var x=e;0!=d.length;){var p=d.substr(0,d.indexOf("]")+1),m=c,f=x;if(d=d.substr(d.indexOf("]")+1),x=x[c],""==(c=p.substr(1,p.length-2))&&("select-multiple"==t.type?(c=m,x=f):c=x.length),void 0===c)for(var j in c=0,f[m])c++;void 0===x[c]&&(x[c]={})}x[c]=r}else e[o]=r}}},jaxon.tools.queue={create:function(e){return{start:0,size:e,end:0,commands:[],timeout:null}},retry:function(e,t){var n=e.retries;if(n){if(--n<1)return!1}else n=t;return e.retries=n,!0},rewind:function(e){0<e.start?--e.start:e.start=e.size},push:function(e,t){var n=e.end+1;if(n>e.size&&(n=0),n==e.start)throw{code:10003};e.commands[e.end]=t,e.end=n},pushFront:function(e,t){jaxon.tools.queue.rewind(e),e.commands[e.start]=t},pop:function(e){var t=e.start;if(t==e.end)return null;++t>e.size&&(t=0);var n=e.commands[e.start];return delete e.commands[e.start],e.start=t,n}},jaxon.tools.string={doubleQuotes:function(e){return void 0!==e&&e.replace(new RegExp("'","g"),'"')},singleQuotes:function(e){return void 0!==e&&e.replace(new RegExp('"',"g"),"'")},stripOnPrefix:function(e){return 0==(e=e.toLowerCase()).indexOf("on")&&(e=e.replace(/on/,"")),e},addOnPrefix:function(e){return 0!=(e=e.toLowerCase()).indexOf("on")&&(e="on"+e),e}},String.prototype.supplant||(String.prototype.supplant=function(a){return this.replace(/\{([^{}]*)\}/g,function(e,t){var n=a[t];return"string"==typeof n||"number"==typeof n?n:e})}),jaxon.tools.upload={createIframe:function(e){var t="jaxon_upload_"+e.upload.id;return jaxon.cmd.node.remove(t),jaxon.cmd.node.insert(e.upload.form,"iframe",t),e.upload.iframe=jaxon.tools.dom.$(t),e.upload.iframe.name=t,e.upload.iframe.style.display="none",e.upload.form.method="POST",e.upload.form.enctype="multipart/form-data",e.upload.form.action=jaxon.config.requestURI,e.upload.form.target=t,!0},_initialize:function(e){if(0==e.upload)return!1;e.upload={id:e.upload,input:null,form:null,ajax:!!window.FormData};var t=jaxon.tools.dom.$(e.upload.id);if(null==t)return console.log("Unable to find input field for file upload with id "+e.upload.id),!1;if("file"!=t.type)return console.log("The upload input field with id "+e.upload.id+" is not of type file"),!1;if(void 0===t.name)return console.log("The upload input field with id "+e.upload.id+" has no name attribute"),!1;if(e.upload.input=t,e.upload.form=t.form,0!=e.upload.ajax)return!0;if(!t.form){for(var n=t;null!=n&&"FORM"!=n.nodeName;)n=n.parentNode;if(null==n)return console.log("The upload input field with id "+e.upload.id+" is not in a form"),!1;e.upload.form=n}return jaxon.tools.upload.createIframe(e),!0},initialize:function(e){jaxon.tools.upload._initialize(e),0!=e.upload&&e.upload.ajax&&e.upload.input||e.append("postHeaders",{"content-type":e.contentType})}},jaxon.cmd.event={setEvent:function(command){command.fullName="setEvent";var element=command.id,sEvent=command.prop,code=command.data;return"string"==typeof element&&(element=jaxon.$(element)),sEvent=jaxon.tools.string.addOnPrefix(sEvent),code=jaxon.tools.string.doubleQuotes(code),eval("element."+sEvent+" = function(e) { "+code+"; }"),!0},addHandler:function(command){return window.addEventListener?jaxon.cmd.event.addHandler=function(command){command.fullName="addHandler";var element=command.id,sEvent=command.prop,sFuncName=command.data;return"string"==typeof element&&(element=jaxon.$(element)),sEvent=jaxon.tools.string.stripOnPrefix(sEvent),eval('element.addEventListener("'+sEvent+'", '+sFuncName+", false);"),!0}:jaxon.cmd.event.addHandler=function(command){command.fullName="addHandler";var element=command.id,sEvent=command.prop,sFuncName=command.data;return"string"==typeof element&&(element=jaxon.$(element)),sEvent=jaxon.tools.string.addOnPrefix(sEvent),eval('element.attachEvent("'+sEvent+'", '+sFuncName+", false);"),!0},jaxon.cmd.event.addHandler(command)},removeHandler:function(command){return window.removeEventListener?jaxon.cmd.event.removeHandler=function(command){command.fullName="removeHandler";var element=command.id,sEvent=command.prop,sFuncName=command.data;return"string"==typeof element&&(element=jaxon.$(element)),sEvent=jaxon.tools.string.stripOnPrefix(sEvent),eval('element.removeEventListener("'+sEvent+'", '+sFuncName+", false);"),!0}:jaxon.cmd.event.removeHandler=function(command){command.fullName="removeHandler";var element=command.id,sEvent=command.prop,sFuncName=command.data;return"string"==typeof element&&(element=jaxon.$(element)),sEvent=jaxon.tools.string.addOnPrefix(sEvent),eval('element.detachEvent("'+sEvent+'", '+sFuncName+", false);"),!0},jaxon.cmd.event.removeHandler(command)}},jaxon.cmd.form={getInput:function(e,t,n){return void 0===window.addEventListener?jaxon.cmd.form.getInput=function(e,t,n){return jaxon.config.baseDocument.createElement('<input type="'+e+'" name="'+t+'" id="'+n+'">')}:jaxon.cmd.form.getInput=function(e,t,n){var a=jaxon.config.baseDocument.createElement("input");return a.setAttribute("type",e),a.setAttribute("name",t),a.setAttribute("id",n),a},jaxon.cmd.form.getInput(e,t,n)},createInput:function(e){e.fullName="createInput";var t=e.id,n=e.type,a=e.data,o=e.prop;"string"==typeof t&&(t=jaxon.$(t));var r=jaxon.cmd.form.getInput(n,a,o);return t&&r&&t.appendChild(r),!0},insertInput:function(e){e.fullName="insertInput";var t=e.id,n=e.type,a=e.data,o=e.prop;"string"==typeof t&&(t=jaxon.$(t));var r=jaxon.cmd.form.getInput(n,a,o);return r&&t&&t.parentNode&&t.parentNode.insertBefore(r,t),!0},insertInputAfter:function(e){e.fullName="insertInputAfter";var t=e.id,n=e.type,a=e.data,o=e.prop;"string"==typeof t&&(t=jaxon.$(t));var r=jaxon.cmd.form.getInput(n,a,o);return r&&t&&t.parentNode&&t.parentNode.insertBefore(r,t.nextSibling),!0}},jaxon.cmd.node={assign:function(element,property,data){switch("string"==typeof element&&(element=jaxon.$(element)),property){case"innerHTML":element.innerHTML=data;break;case"outerHTML":if(void 0===element.outerHTML){var r=jaxon.config.baseDocument.createRange();r.setStartBefore(element);var df=r.createContextualFragment(data);element.parentNode.replaceChild(df,element)}else element.outerHTML=data;break;default:jaxon.tools.dom.willChange(element,property,data)&&eval("element."+property+" = data;")}return!0},append:function(element,property,data){return"string"==typeof element&&(element=jaxon.$(element)),window.insertAdjacentHTML||element.insertAdjacentHTML?"innerHTML"==property?element.insertAdjacentHTML("beforeend",data):"outerHTML"==property?element.insertAdjacentHTML("afterend",data):element[property]+=data:eval("element."+property+" += data;"),!0},prepend:function(element,property,data){return"string"==typeof element&&(element=jaxon.$(element)),eval("element."+property+" = data + element."+property),!0},replace:function(element,sAttribute,aData){var sSearch=aData.s,sReplace=aData.r;"innerHTML"==sAttribute&&(sSearch=jaxon.tools.dom.getBrowserHTML(sSearch)),"string"==typeof element&&(element=jaxon.$(element)),eval("var txt = element."+sAttribute);var bFunction=!1;"function"==typeof txt&&(txt=txt.join(""),bFunction=!0);var start=txt.indexOf(sSearch);if(-1<start){for(var newTxt=[];-1<start;){var end=start+sSearch.length;newTxt.push(txt.substr(0,start)),newTxt.push(sReplace),txt=txt.substr(end,txt.length-end),start=txt.indexOf(sSearch)}newTxt.push(txt),newTxt=newTxt.join(""),bFunction?eval("element."+sAttribute+"=newTxt;"):jaxon.tools.dom.willChange(element,sAttribute,newTxt)&&eval("element."+sAttribute+"=newTxt;")}return!0},remove:function(e){return"string"==typeof e&&(e=jaxon.$(e)),e&&e.parentNode&&e.parentNode.removeChild&&e.parentNode.removeChild(e),!0},create:function(e,t,n){"string"==typeof e&&(e=jaxon.$(e));var a=jaxon.config.baseDocument.createElement(t);return a.setAttribute("id",n),e&&e.appendChild(a),!0},insert:function(e,t,n){"string"==typeof e&&(e=jaxon.$(e));var a=jaxon.config.baseDocument.createElement(t);return a.setAttribute("id",n),e.parentNode.insertBefore(a,e),!0},insertAfter:function(e,t,n){"string"==typeof e&&(e=jaxon.$(e));var a=jaxon.config.baseDocument.createElement(t);return a.setAttribute("id",n),e.parentNode.insertBefore(a,e.nextSibling),!0},contextAssign:function(args){args.fullName="context assign";var code=[];return code.push("this."),code.push(args.prop),code.push(" = data;"),code=code.join(""),args.context.jaxonDelegateCall=function(data){eval(code)},args.context.jaxonDelegateCall(args.data),!0},contextAppend:function(args){args.fullName="context append";var code=[];return code.push("this."),code.push(args.prop),code.push(" += data;"),code=code.join(""),args.context.jaxonDelegateCall=function(data){eval(code)},args.context.jaxonDelegateCall(args.data),!0},contextPrepend:function(args){args.fullName="context prepend";var code=[];return code.push("this."),code.push(args.prop),code.push(" = data + this."),code.push(args.prop),code.push(";"),code=code.join(""),args.context.jaxonDelegateCall=function(data){eval(code)},args.context.jaxonDelegateCall(args.data),!0}},jaxon.cmd.script={includeScriptOnce:function(e){e.fullName="includeScriptOnce";for(var t=e.data,n=jaxon.config.baseDocument.getElementsByTagName("script"),a=n.length,o=0;o<a;++o){var r=n[o];if(r.src&&0<=r.src.indexOf(t))return!0}return jaxon.cmd.script.includeScript(e)},includeScript:function(e){e.fullName="includeScript";var t=jaxon.config.baseDocument,n=t.getElementsByTagName("head"),a=t.createElement("script");return a.src=e.data,void 0===e.type?a.type="text/javascript":a.type=e.type,void 0!==e.type&&a.setAttribute("id",e.elm_id),n[0].appendChild(a),!0},removeScript:function(e){e.fullName="removeScript";for(var t=e.data,n=e.unld,a=jaxon.config.baseDocument.getElementsByTagName("script"),o=a.length,r=0;r<o;++r){var s=a[r];if(s.src&&0<=s.src.indexOf(t)){if(void 0!==n){var i={};i.data=n,i.context=window,jaxon.cmd.script.execute(i)}s.parentNode.removeChild(s)}}return!0},sleep:function(e){return e.fullName="sleep",!jaxon.tools.queue.retry(e,e.prop)||(jaxon.ajax.response.setWakeup(jaxon.response,100),!1)},confirmCommands:function(e){e.fullName="confirmCommands";var t=e.data,n=e.id;if(0==confirm(t))for(;0<n;)jaxon.tools.queue.pop(jaxon.response),--n;return!0},execute:function(args){args.fullName="execute Javascript";var returnValue=!0;return args.context=args.context?args.context:{},args.context.jaxonDelegateCall=function(){eval(args.data)},args.context.jaxonDelegateCall(),returnValue},waitFor:function(args){args.fullName="waitFor";var bResult=!1,cmdToEval="bResult = (";cmdToEval+=args.data,cmdToEval+=");";try{args.context.jaxonDelegateCall=function(){eval(cmdToEval)},args.context.jaxonDelegateCall()}catch(e){}return 0!=bResult||!jaxon.tools.queue.retry(args,args.prop)||(jaxon.ajax.response.setWakeup(jaxon.response,100),!1)},call:function(args){args.fullName="call js function";var parameters=args.data,scr=new Array;if(scr.push(args.func),scr.push("("),void 0!==parameters&&"object"==typeof parameters){var iLen=parameters.length;if(0<iLen){scr.push("parameters[0]");for(var i=1;i<iLen;++i)scr.push(", parameters["+i+"]")}}return scr.push(");"),args.context.jaxonDelegateCall=function(){eval(scr.join(""))},args.context.jaxonDelegateCall(),!0},setFunction:function(args){args.fullName="setFunction";var code=new Array;if(code.push(args.func),code.push(" = function("),"object"==typeof args.prop){var separator="";for(var m in args.prop)code.push(separator),code.push(args.prop[m]),separator=","}else code.push(args.prop);return code.push(") { "),code.push(args.data),code.push(" }"),args.context.jaxonDelegateCall=function(){eval(code.join(""))},args.context.jaxonDelegateCall(),!0},wrapFunction:function(args){args.fullName="wrapFunction";var code=new Array;return code.push(args.func),code.push(" = jaxon.cmd.script.makeWrapper("),code.push(args.func),code.push(", args.prop, args.data, args.type, args.context);"),args.context.jaxonDelegateCall=function(){eval(code.join(""))},args.context.jaxonDelegateCall(),!0},makeWrapper:function(origFun,args,codeBlocks,returnVariable,context){var originalCall="";0<returnVariable.length&&(originalCall+=returnVariable,originalCall+=" = ");var originalCall="origFun(";originalCall+=args,originalCall+="); ";var code="wrapper = function(";code+=args,code+=") { ",0<returnVariable.length&&(code+=" var ",code+=returnVariable,code+=" = null;");for(var separator="",bLen=codeBlocks.length,b=0;b<bLen;++b)code+=separator,code+=codeBlocks[b],separator=originalCall;0<returnVariable.length&&(code+=" return ",code+=returnVariable,code+=";"),code+=" } ";var wrapper=null;return context.jaxonDelegateCall=function(){eval(code)},context.jaxonDelegateCall(),wrapper}},jaxon.cmd.style={add:function(e,t){for(var n=jaxon.config.baseDocument,a=n.getElementsByTagName("head")[0],o=a.getElementsByTagName("link"),r=!1,s=o.length,i=0;i<s&&0==r;++i)0<=o[i].href.indexOf(e)&&o[i].media==t&&(r=!0);if(0==r){var l=n.createElement("link");l.rel="stylesheet",l.type="text/css",l.href=e,l.media=t,a.appendChild(l)}return!0},remove:function(e,t){for(var n=jaxon.config.baseDocument.getElementsByTagName("head")[0],a=n.getElementsByTagName("link"),o=0;o<a.length;)0<=a[o].href.indexOf(e)&&a[o].media==t?n.removeChild(a[o]):++o;return!0},waitForCSS:function(e){for(var t=jaxon.config.baseDocument.styleSheets,n=[],a=t.length,o=0;o<a;++o){n[o]=0;try{n[o]=t[o].cssRules.length}catch(e){try{n[o]=t[o].rules.length}catch(e){}}}var r=!0;for(a=n.length,o=0;o<a;++o)0==n[o]&&(r=!1);return 0!=r||!jaxon.tools.queue.retry(e,e.prop)||(jaxon.ajax.response.setWakeup(jaxon.response,10),!1)}},jaxon.cmd.tree={startResponse:function(e){jxnElm=[]},createElement:function(args){eval([args.tgt," = document.createElement(args.data)"].join(""))},setAttribute:function(args){args.context.jaxonDelegateCall=function(){eval([args.tgt,".setAttribute(args.key, args.data)"].join(""))},args.context.jaxonDelegateCall()},appendChild:function(args){args.context.jaxonDelegateCall=function(){eval([args.par,".appendChild(",args.data,")"].join(""))},args.context.jaxonDelegateCall()},insertBefore:function(args){args.context.jaxonDelegateCall=function(){eval([args.tgt,".parentNode.insertBefore(",args.data,", ",args.tgt,")"].join(""))},args.context.jaxonDelegateCall()},insertAfter:function(args){args.context.jaxonDelegateCall=function(){eval([args.tgt,"parentNode.insertBefore(",args.data,", ",args.tgt,".nextSibling)"].join(""))},args.context.jaxonDelegateCall()},appendText:function(args){args.context.jaxonDelegateCall=function(){eval([args.par,".appendChild(document.createTextNode(args.data))"].join(""))},args.context.jaxonDelegateCall()},removeChildren:function(args){var skip=args.skip||0,remove=args.remove||-1,element=null;args.context.jaxonDelegateCall=function(){eval(["element = ",args.data].join(""))},args.context.jaxonDelegateCall();var children=element.childNodes;for(var i in children)0==isNaN(i)&&1==children[i].nodeType&&(0<skip?skip-=1:0!=remove&&(0<remove&&(remove-=1),element.removeChild(children[i])))},endResponse:function(e){jxnElm=[]}},jaxon.ajax.callback={create:function(){var e=jaxon,t=e.config,n=e.ajax.callback,a={timers:{}};return a.timers.onResponseDelay=n.setupTimer(0<arguments.length?arguments[0]:t.defaultResponseDelayTime),a.timers.onExpiration=n.setupTimer(1<arguments.length?arguments[1]:t.defaultExpirationTime),a.onRequest=null,a.onResponseDelay=null,a.onExpiration=null,a.beforeResponseProcessing=null,a.onFailure=null,a.onRedirect=null,a.onSuccess=null,a.onComplete=null,a},setupTimer:function(e){return{timer:null,delay:e}},clearTimer:function(e,t){if(void 0!==e.timers)void 0!==e.timers[t]&&clearTimeout(e.timers[t].timer);else if("object"==typeof e)for(var n=e.length,a=0;a<n;++a)jaxon.ajax.callback.clearTimer(e[a],t)},execute:function(e,t,n){if(void 0!==e[t]){var a=e[t];"function"==typeof a&&(void 0!==e.timers[t]?e.timers[t].timer=setTimeout(function(){a(n)},e.timers[t].delay):a(n))}else if("object"==typeof e)for(var o=e.length,r=0;r<o;++r)jaxon.ajax.callback.execute(e[r],t,n)}},jaxon.ajax.handler={handlers:[],execute:function(e){return!jaxon.ajax.handler.isRegistered(e)||(e.id&&(e.target=jaxon.$(e.id)),0!=jaxon.ajax.handler.call(e))||(jaxon.tools.queue.pushFront(jaxon.response,e),!1)},register:function(e,t){jaxon.ajax.handler.handlers[e]=t},unregister:function(e){var t=jaxon.ajax.handler.handlers[e];return delete jaxon.ajax.handler.handlers[e],t},isRegistered:function(e){var t=e.cmd;return!!jaxon.ajax.handler.handlers[t]},call:function(e){var t=e.cmd;return jaxon.ajax.handler.handlers[t](e)}},jaxon.ajax.handler.register("rcmplt",function(e){return jaxon.ajax.response.complete(e.request),!0}),jaxon.ajax.handler.register("css",function(e){return e.fullName="includeCSS",void 0===e.media&&(e.media="screen"),jaxon.cmd.style.add(e.data,e.media)}),jaxon.ajax.handler.register("rcss",function(e){return e.fullName="removeCSS",void 0===e.media&&(e.media="screen"),jaxon.cmd.style.remove(e.data,e.media)}),jaxon.ajax.handler.register("wcss",function(e){return e.fullName="waitForCSS",jaxon.cmd.style.waitForCSS(e)}),jaxon.ajax.handler.register("as",function(e){e.fullName="assign/clear";try{return jaxon.cmd.node.assign(e.target,e.prop,e.data)}catch(e){}return!0}),jaxon.ajax.handler.register("ap",function(e){return e.fullName="append",jaxon.cmd.node.append(e.target,e.prop,e.data)}),jaxon.ajax.handler.register("pp",function(e){return e.fullName="prepend",jaxon.cmd.node.prepend(e.target,e.prop,e.data)}),jaxon.ajax.handler.register("rp",function(e){return e.fullName="replace",jaxon.cmd.node.replace(e.id,e.prop,e.data)}),jaxon.ajax.handler.register("rm",function(e){return e.fullName="remove",jaxon.cmd.node.remove(e.id)}),jaxon.ajax.handler.register("ce",function(e){return e.fullName="create",jaxon.cmd.node.create(e.id,e.data,e.prop)}),jaxon.ajax.handler.register("ie",function(e){return e.fullName="insert",jaxon.cmd.node.insert(e.id,e.data,e.prop)}),jaxon.ajax.handler.register("ia",function(e){return e.fullName="insertAfter",jaxon.cmd.node.insertAfter(e.id,e.data,e.prop)}),jaxon.ajax.handler.register("DSR",jaxon.cmd.tree.startResponse),jaxon.ajax.handler.register("DCE",jaxon.cmd.tree.createElement),jaxon.ajax.handler.register("DSA",jaxon.cmd.tree.setAttribute),jaxon.ajax.handler.register("DAC",jaxon.cmd.tree.appendChild),jaxon.ajax.handler.register("DIB",jaxon.cmd.tree.insertBefore),jaxon.ajax.handler.register("DIA",jaxon.cmd.tree.insertAfter),jaxon.ajax.handler.register("DAT",jaxon.cmd.tree.appendText),jaxon.ajax.handler.register("DRC",jaxon.cmd.tree.removeChildren),jaxon.ajax.handler.register("DER",jaxon.cmd.tree.endResponse),jaxon.ajax.handler.register("c:as",jaxon.cmd.node.contextAssign),jaxon.ajax.handler.register("c:ap",jaxon.cmd.node.contextAppend),jaxon.ajax.handler.register("c:pp",jaxon.cmd.node.contextPrepend),jaxon.ajax.handler.register("s",jaxon.cmd.script.sleep),jaxon.ajax.handler.register("ino",jaxon.cmd.script.includeScriptOnce),jaxon.ajax.handler.register("in",jaxon.cmd.script.includeScript),jaxon.ajax.handler.register("rjs",jaxon.cmd.script.removeScript),jaxon.ajax.handler.register("wf",jaxon.cmd.script.waitFor),jaxon.ajax.handler.register("js",jaxon.cmd.script.execute),jaxon.ajax.handler.register("jc",jaxon.cmd.script.call),jaxon.ajax.handler.register("sf",jaxon.cmd.script.setFunction),jaxon.ajax.handler.register("wpf",jaxon.cmd.script.wrapFunction),jaxon.ajax.handler.register("al",function(e){return e.fullName="alert",alert(e.data),!0}),jaxon.ajax.handler.register("cc",jaxon.cmd.script.confirmCommands),jaxon.ajax.handler.register("ci",jaxon.cmd.form.createInput),jaxon.ajax.handler.register("ii",jaxon.cmd.form.insertInput),jaxon.ajax.handler.register("iia",jaxon.cmd.form.insertInputAfter),jaxon.ajax.handler.register("ev",jaxon.cmd.event.setEvent),jaxon.ajax.handler.register("ah",jaxon.cmd.event.addHandler),jaxon.ajax.handler.register("rh",jaxon.cmd.event.removeHandler),jaxon.ajax.handler.register("dbg",function(e){return e.fullName="debug message",console.log(e.data),!0}),jaxon.ajax.message={success:function(e,t){alert(e)},info:function(e,t){alert(e)},warning:function(e,t){alert(e)},error:function(e,t){alert(e)},confirm:function(e,t,n,a){null==a&&(a=function(){}),confirm(e)?n():a()}},jaxon.ajax.parameters={toFormData:function(e){jaxon.tools;for(var t=new FormData,n=e.upload.input,a=0,o=n.files.length;a<o;a++)t.append(n.name,n.files[a]);for(var r in e.functionName)"constructor"!=r&&t.append(r,encodeURIComponent(e.functionName[r]));var s=new Date;if(t.append("jxnr",s.getTime()),delete s,e.parameters){a=0;for(var i=e.parameters.length;a<i;){var l=e.parameters[a];if("object"==typeof l&&null!=l){try{l=JSON.stringify(l)}catch(e){l=""}l=encodeURIComponent(l),t.append("jxnargs[]",l),++a}else{if(void 0===l||null==l)t.append("jxnargs[]","*");else{var u="",c=typeof l;"string"==c?u="S":"boolean"==c?u="B":"number"==c&&(u="N"),l=encodeURIComponent(l),t.append("jxnargs[]",u+l)}++a}}}e.requestURI=e.URI,e.requestData=t},toUrlEncoded:function(e){jaxon.tools;var t=[],n="";for(var a in e.functionName)"constructor"!=a&&(t.push(n),t.push(a),t.push("="),t.push(encodeURIComponent(e.functionName[a])),n="&");var o=new Date;if(t.push("&jxnr="),t.push(o.getTime()),delete o,e.parameters)for(var r=0,s=e.parameters.length;r<s;){var i=e.parameters[r];if("object"==typeof i&&null!=i){try{i=JSON.stringify(i)}catch(e){i=""}t.push("&jxnargs[]="),i=encodeURIComponent(i),t.push(i),++r}else{if(t.push("&jxnargs[]="),void 0===i||null==i)t.push("*");else{var l=typeof i;"string"==l?t.push("S"):"boolean"==l?t.push("B"):"number"==l&&t.push("N"),i=encodeURIComponent(i),t.push(i)}++r}}e.requestURI=e.URI,"GET"==e.method&&(e.requestURI+=-1==e.requestURI.indexOf("?")?"?":"&",e.requestURI+=t.join(""),t=[]),e.requestData=t.join("")},process:function(e){0!=e.upload&&e.upload.ajax&&e.upload.input?jaxon.ajax.parameters.toFormData(e):jaxon.ajax.parameters.toUrlEncoded(e)}},jaxon.ajax.request={initialize:function(e){var t=jaxon,n=t.config;e.append=function(e,t){for(var n in void 0===this[e]&&(this[e]={}),t)void 0===this[e][n]&&(this[e][n]=t[n])},e.append("commonHeaders",n.commonHeaders),e.append("postHeaders",n.postHeaders),e.append("getHeaders",n.getHeaders),e.set=function(e,t){void 0===this[e]&&(this[e]=t)},e.set("statusMessages",n.statusMessages),e.set("waitCursor",n.waitCursor),e.set("mode",n.defaultMode),e.set("method",n.defaultMethod),e.set("URI",n.requestURI),e.set("httpVersion",n.defaultHttpVersion),e.set("contentType",n.defaultContentType),e.set("retry",n.defaultRetry),e.set("returnValue",n.defaultReturnValue),e.set("maxObjectDepth",n.maxObjectDepth),e.set("maxObjectSize",n.maxObjectSize),e.set("context",window),e.set("upload",!1);var a=t.ajax.callback,o=(t.callback,a.create());if(o.take=function(e,t){void 0!==e[t]&&(o[t]=e[t],o.hasEvents=!0),delete e[t]},o.take(e,"onRequest"),o.take(e,"onResponseDelay"),o.take(e,"onExpiration"),o.take(e,"beforeResponseProcessing"),o.take(e,"onFailure"),o.take(e,"onRedirect"),o.take(e,"onSuccess"),o.take(e,"onComplete"),void 0!==e.callback?o.hasEvents&&(e.callback=[e.callback,o]):e.callback=o,e.status=e.statusMessages?n.status.update():n.status.dontUpdate(),e.cursor=e.waitCursor?n.cursor.update():n.cursor.dontUpdate(),e.method=e.method.toUpperCase(),"GET"!=e.method&&(e.method="POST"),e.requestRetry=e.retry,jaxon.tools.upload.initialize(e),delete e.append,delete e.set,delete e.take,void 0===e.URI)throw{code:10005}},prepare:function(e){var t=jaxon.tools;e.request=t.ajax.createRequest(),e.setRequestHeaders=function(e){if("object"==typeof e)for(var t in e)this.request.setRequestHeader(t,e[t])},e.setCommonRequestHeaders=function(){this.setRequestHeaders(this.commonHeaders),this.challengeResponse&&this.request.setRequestHeader("challenge-response",this.challengeResponse)},e.setPostRequestHeaders=function(){this.setRequestHeaders(this.postHeaders)},e.setGetRequestHeaders=function(){this.setRequestHeaders(this.getHeaders)},"asynchronous"==e.mode?(e.request.onreadystatechange=function(){4==e.request.readyState&&jaxon.ajax.response.received(e)},e.finishRequest=function(){return this.returnValue}):e.finishRequest=function(){return jaxon.ajax.response.received(e)},void 0!==e.userName&&void 0!==e.password?e.open=function(){this.request.open(this.method,this.requestURI,"asynchronous"==this.mode,e.userName,e.password)}:e.open=function(){this.request.open(this.method,this.requestURI,"asynchronous"==this.mode)},"POST"==e.method?e.applyRequestHeaders=function(){this.setCommonRequestHeaders();try{this.setPostRequestHeaders()}catch(e){throw this.method="GET",this.requestURI+=-1==this.requestURI.indexOf("?")?"?":"&",this.requestURI+=this.requestData,this.requestData="",0==this.requestRetry&&(this.requestRetry=1),e}}:e.applyRequestHeaders=function(){this.setCommonRequestHeaders(),this.setGetRequestHeaders()}},submit:function(e){e.status.onRequest();var t=jaxon,n=t.ajax.callback,a=t.callback,o=e.callback;return n.execute([a,o],"onResponseDelay",e),n.execute([a,o],"onExpiration",e),n.execute([a,o],"onRequest",e),e.open(),e.applyRequestHeaders(),e.cursor.onWaiting(),e.status.onWaiting(),0!=e.upload&&!e.upload.ajax&&e.upload.form?(e.upload.iframe.onload=function(){jaxon.ajax.response.upload(e)},e.upload.form.submit()):jaxon.ajax.request._send(e),e.finishRequest()},_send:function(e){e.request.send(e.requestData)},abort:function(e){e.aborted=!0,e.request.abort(),jaxon.ajax.response.complete(e)},execute:function(){var e=arguments.length;if(0==e)return!1;var t={};1<e&&(t=arguments[1]),t.functionName=arguments[0];var n=jaxon;for(n.ajax.request.initialize(t),n.ajax.parameters.process(t);0<t.requestRetry;)try{return--t.requestRetry,n.ajax.request.prepare(t),n.ajax.request.submit(t)}catch(e){if(jaxon.ajax.callback.execute([jaxon.callback,t.callback],"onFailure",t),0==t.requestRetry)throw e}}},jaxon.ajax.response={received:function(e){var t=jaxon,n=t.ajax.callback,a=t.callback,o=e.callback;if(!e.aborted){n.clearTimer([a,o],"onExpiration"),n.clearTimer([a,o],"onResponseDelay"),n.execute([a,o],"beforeResponseProcessing",e);var r=e.request.getResponseHeader("challenge");if(r)return e.challengeResponse=r,t.ajax.request.prepare(e),t.ajax.request.submit(e);var s=t.ajax.response.processor(e);return void 0===s?(n.execute([a,o],"onFailure",e),void t.ajax.response.complete(e)):s(e)}},complete:function(e){jaxon.ajax.callback.execute([jaxon.callback,e.callback],"onComplete",e),e.cursor.onComplete(),e.status.onComplete(),delete e.functionName,delete e.requestURI,delete e.requestData,delete e.requestRetry,delete e.request,delete e.set,delete e.open,delete e.setRequestHeaders,delete e.setCommonRequestHeaders,delete e.setPostRequestHeaders,delete e.setGetRequestHeaders,delete e.applyRequestHeaders,delete e.finishRequest,delete e.status,delete e.cursor,delete e.challengeResponse},process:function(e){null!=e.timeout&&(clearTimeout(e.timeout),e.timeout=null);for(var t=jaxon.tools.queue.pop(e);null!=t;){try{if(0==jaxon.ajax.handler.execute(t))return!1}catch(e){console.log(e)}delete t,t=jaxon.tools.queue.pop(e)}return!0},setWakeup:function(e,t){null!=e.timeout&&(clearTimeout(e.timeout),e.timeout=null),e.timout=setTimeout(function(){jaxon.ajax.response.process(e)},t)},processor:function(e){var t;if(void 0===e.responseProcessor){var n=e.request.getResponseHeader("content-type");n&&0<=n.indexOf("application/json")&&(t=jaxon.ajax.response.json)}else t=e.responseProcessor;return t},json:function(oRequest){var xx=jaxon,xt=xx.tools,xcb=xx.ajax.callback,gcb=xx.callback,lcb=oRequest.callback,oRet=oRequest.returnValue;if(xt.array.is_in(xx.ajax.response.successCodes,oRequest.request.status)){xcb.execute([gcb,lcb],"onSuccess",oRequest);var seq=0;if(oRequest.request.responseText){try{var responseJSON=eval("("+oRequest.request.responseText+")")}catch(e){throw e}"object"==typeof responseJSON&&"object"==typeof responseJSON.jxnobj&&(oRequest.status.onProcessing(),oRet=xt.ajax.processFragment(responseJSON,seq,oRet,oRequest))}var obj={fullName:"Response Complete"};obj.sequence=seq,obj.request=oRequest,obj.context=oRequest.context,obj.cmd="rcmplt",xt.queue.push(xx.response,obj),null==xx.response.timeout&&xx.ajax.response.process(xx.response)}else xt.array.is_in(xx.ajax.response.redirectCodes,oRequest.request.status)?(xcb.execute([gcb,lcb],"onRedirect",oRequest),window.location=oRequest.request.getResponseHeader("location"),xx.ajax.response.complete(oRequest)):xt.array.is_in(xx.ajax.response.errorsForAlert,oRequest.request.status)&&(xcb.execute([gcb,lcb],"onFailure",oRequest),xx.ajax.response.complete(oRequest));return oRet},upload:function(e){var t=jaxon,n=t.ajax.callback,a=t.callback,o=e.callback,r=!1,s=e.upload.iframe.contentWindow.res;if(s&&s.code?"error"==s.code&&(jaxon.ajax.message.error(s.msg),r=!0):(jaxon.ajax.message.error("The server returned an invalid response"),r=!0),r)return n.clearTimer([a,o],"onExpiration"),n.clearTimer([a,o],"onResponseDelay"),n.execute([a,o],"onFailure",e),void jaxon.ajax.response.complete(e);(s.code="success")&&(e.requestData+="&jxnupl="+encodeURIComponent(s.upl),jaxon.ajax.request._send(e))},successCodes:["0","200"],errorsForAlert:["400","401","402","403","404","500","501","502","503"],redirectCodes:["301","302","307"]},jaxon.dom={},function(e,t){"use strict";e=e||"docReady",t=t||window;var n=[],a=!1,o=!1;function r(){if(!a){a=!0;for(var e=0;e<n.length;e++)n[e].fn.call(window,n[e].ctx);n=[]}}function s(){"complete"===document.readyState&&r()}t[e]=function(e,t){a?setTimeout(function(){e(t)},1):(n.push({fn:e,ctx:t}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(r,1):o||(document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):(document.attachEvent("onreadystatechange",s),window.attachEvent("onload",r)),o=!0))}}("ready",jaxon.dom),jaxon.callback=jaxon.ajax.callback.create(),jaxon.request=jaxon.ajax.request.execute,jaxon.response=jaxon.tools.queue.create(jaxon.config.responseQueueSize),jaxon.register=jaxon.ajax.handler.register,jaxon.$=jaxon.tools.dom.$,jaxon.getFormValues=jaxon.tools.form.getValues,jaxon.msg=jaxon.ajax.message,jaxon.js=jaxon.cmd.script,jaxon.isLoaded=!0,jaxon.command={},jaxon.command.handler={},jaxon.command.handler.register=jaxon.ajax.handler.register,jaxon.command.create=function(e,t,n){var a={cmd:"*",fullName:"* unknown command name *"};return a.sequence=e,a.request=t,a.context=n,a};var jxn={};jxn.$=jaxon.tools.dom.$,jxn.getFormValues=jaxon.tools.form.getValues,jxn.request=jaxon.request;